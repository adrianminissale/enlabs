{"version":3,"sources":["components/Movie/styles.module.scss","components/Header/styles.module.scss","components/Pagination/styles.module.scss","styles.module.scss","components/Footer/styles.module.scss","components/Movies/styles.module.scss","components/Nav/index.js","components/Header/index.js","components/Footer/index.js","components/Pagination/index.js","components/Movie/index.js","service/index.js","components/Movies/index.js","App.js","index.js","components/Nav/styles.module.scss"],"names":["module","exports","Nav","history","useHistory","className","styles","nav","title","type","id","placeholder","onClick","name","document","getElementById","value","length","push","location","reload","separator","onChange","e","genre","target","toLowerCase","goToGenre","default","Header","header","logo","to","Footer","footer","Pagination","props","pages","total","pagination","links","i","current","activeClassName","active","key","page","Movie","movie","poster_path","_id","link","src","alt","image","GetMovies","filter","url","fetch","then","res","json","data","catch","err","console","error","Movies","useParams","useState","movies","setMovies","setTotal","loading","setLoading","useEffect","a","results","map","App","container","content","exact","path","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d57b5636.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"movie\":\"styles_movie__38M7X\",\"link\":\"styles_link__1cA5Q\",\"image\":\"styles_image__DtLsA\",\"title\":\"styles_title__3E8Mw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__2dQfB\",\"logo\":\"styles_logo__2I-b3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"styles_pagination__rwfBx\",\"active\":\"styles_active__spz6-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__332Lk\",\"content\":\"styles_content__1yzZG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"styles_footer__2jx7K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movies\":\"styles_movies__1GBBJ\"};","import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport styles from './styles.module.scss'\n\nfunction Nav() {\n  const history = useHistory()\n\n  const goToName = () => {\n    const name = document.getElementById('name').value\n    if (name && name.length > 4) {\n      history.push(`/name/${name}`)\n      location.reload()\n    }\n  }\n\n  const goToGenre = ( e ) => {\n    const genre = e.target.value.toLowerCase()\n    history.push(`/genre/${genre}`)\n    location.reload()\n  }\n\n  return (\n    <nav className={ styles.nav }>\n      <div className={ styles.title }>Search by name</div>\n      <input type='text' id='name' placeholder='...search movie' />\n      <button onClick={ goToName }>search</button>\n\n      <div className={ styles.separator }> | </div>\n\n      <div className={ styles.title }>Filter by genre</div>\n      <select onChange={ e => goToGenre( e ) }>\n        <option default>...</option>\n        <option>Action</option>\n        <option>Adventure</option>\n        <option>Animation</option>\n        <option>Comedy</option>\n        <option>Crime</option>\n        <option>Documentary</option>\n        <option>Drama</option>\n        <option>Family</option>\n        <option>Fantasy</option>\n        <option>History</option>\n        <option>Horror</option>\n        <option>Music</option>\n        <option>Mystery</option>\n        <option>Romance</option>\n        <option>Science Fiction</option>\n        <option>TV Movie</option>\n        <option>Thriller</option>\n        <option>War</option>\n        <option>Western</option>\n      </select>\n    </nav>\n  )\n}\n\nexport default Nav\n","import React from 'react'\nimport Nav from '../Nav'\nimport { useHistory, Link } from 'react-router-dom'\nimport styles from './styles.module.scss'\n\nfunction Header() {\n  const history = useHistory()\n\n  const reload = () => {\n    history.push('/')\n    location.reload()\n  }\n\n  return (\n    <header className={ styles.header }>\n      <Link className={ styles.logo } to='/' onClick={ reload }>TMDB</Link>\n      <Nav />\n    </header>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\nimport styles from './styles.module.scss'\n\nfunction Footer() {\n  return (\n    <footer className={ styles.footer }>\n      &copy; TMDB. All rights reserved.\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport styles from './styles.module.scss'\n\nfunction Pagination( props ) {\n  const { total } = props\n  const pages = total / 20\n\n  const page = () => {\n    const links = []\n    for (let i = 0; i < pages; i++) {\n      let current = i + 1\n      links.push( <NavLink activeClassName={ styles.active } key={ current } to={`/page/${ current }`}>{ current }</NavLink> )\n    }\n    return links\n  }\n\n  return (\n    <div className={ styles.pagination }>\n      <NavLink to={'/page/1'}> &lt; </NavLink>\n      { page() }\n      <NavLink to={`/page/${pages}`}> &gt; </NavLink>\n    </div>\n  )\n}\n\nexport default Pagination\n","import React from 'react'\nimport { useParams, Link } from 'react-router-dom'\n\nimport styles from './styles.module.scss'\n\nfunction Movie( props ) {\n  const { title, poster_path, _id } = props.movie\n  return (\n    <div className={ styles.movie }>\n      <Link className={ styles.link } to={ `/detail/${_id}` } >\n        <img src={ `https://www.themoviedb.org/t/p/w185${ poster_path }` } alt={ title } className={ styles.image } />\n      </Link>\n      <div className={ styles.title }><Link to={ `/detail/${_id}` } >{ title }</Link></div>\n    </div>\n  )\n}\n\nexport default Movie\n","function GetMovies( filter ) {\n  let url = ''\n\n  switch (filter.type) {\n    case 'page':\n      url = `http://localhost:8080/movies?page=${ --filter.value }`\n      break;\n    case 'genre':\n      url = `http://localhost:8080/movies?genre=${ filter.value }`\n      break;\n    case 'name':\n      url = `http://localhost:8080/movies?name=${ filter.value }`\n      break;\n    default:\n      url = `http://localhost:8080/movies`\n      break;\n  }\n\n  return fetch( url )\n    .then( res => res.json() )\n    .then( data => data )\n    .catch( err => console.error( 'api error', err ) )\n}\n\nexport default GetMovies\n","import React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport Pagination from '../Pagination'\nimport Movie from '../Movie'\nimport GetMovies from '../../service'\nimport styles from './styles.module.scss'\n\nfunction Movies() {\n  const { page, name, genre } = useParams()\n  const [movies, setMovies] = useState([])\n  const [total, setTotal] = useState()\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    (async () => {\n      const filter = {\n        type: page ? 'page' : name ? 'name' : genre ? 'genre' : '',\n        value: page || name || genre\n      }\n      const results = await GetMovies( filter )\n      if (results) {\n        setMovies( results.movies )\n        setTotal( results.total )\n        setLoading( false )\n      }\n    })()\n  }, [ page ])\n\n  return (\n    <>\n      { loading ?\n        <div>Loading...</div> :\n        movies && movies.length ?\n          <>\n            <div className={ styles.movies }>\n              { movies.map( movie =>\n                <Movie movie={ movie } key={ movie['_id'] } />\n              ) }\n            </div>\n            <Pagination total={ total } />\n          </> :\n          <div>No results</div>\n      }\n    </>\n  )\n}\n\nexport default Movies\n","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport Header from './components/Header/'\nimport Footer from './components/Footer/'\nimport Movies from './components/Movies/'\n\nimport styles from './styles.module.scss'\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <div className={ styles.container }>\n        <Header />\n        <div className={ styles.content }>\n          <Switch>\n            <Route exact path='/'>\n              <Movies />\n            </Route>\n            <Route path='/page/:page'>\n              <Movies />\n            </Route>\n            <Route path='/genre/:genre'>\n              <Movies />\n            </Route>\n            <Route path='/name/:name'>\n              <Movies />\n            </Route>\n          </Switch>\n        </div>\n        <Footer />\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"styles_nav__19zlJ\",\"title\":\"styles_title__3dpy2\",\"separator\":\"styles_separator__31baZ\"};"],"sourceRoot":""}